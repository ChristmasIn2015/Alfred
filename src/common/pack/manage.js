var sr=Object.create,pt=Object.defineProperty,or=Object.getPrototypeOf,cr=Object.prototype.hasOwnProperty,ur=Object.getOwnPropertyNames,hr=Object.getOwnPropertyDescriptor;var lr=t=>pt(t,"__esModule",{value:!0});var k=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports);var fr=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ur(e))!cr.call(t,n)&&n!=="default"&&pt(t,n,{get:()=>e[n],enumerable:!(r=hr(e,n))||r.enumerable});return t},pr=t=>t&&t.__esModule?t:fr(lr(pt(t!=null?sr(or(t)):{},"default",{value:t,enumerable:!0})),t);var ce=k(_t=>{var x=require("path"),C=process.platform==="win32",q=require("fs"),mr=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function gr(){var t;if(mr){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var a="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function yr(t){return typeof t=="function"?t:gr()}var qn=x.normalize;C?j=/(.*?)(?:[\/\\]+|$)/g:j=/(.*?)(?:[\/]+|$)/g;var j;C?z=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:z=/^[\/]*/;var z;_t.realpathSync=function(e,r){if(e=x.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},a={},s,c,o,u;f();function f(){var m=z.exec(e);s=m[0].length,c=m[0],o=m[0],u="",C&&!a[o]&&(q.lstatSync(o),a[o]=!0)}for(;s<e.length;){j.lastIndex=s;var v=j.exec(e);if(u=c,c+=v[0],o=u+v[1],s=j.lastIndex,!(a[o]||r&&r[o]===o)){var h;if(r&&Object.prototype.hasOwnProperty.call(r,o))h=r[o];else{var l=q.lstatSync(o);if(!l.isSymbolicLink()){a[o]=!0,r&&(r[o]=o);continue}var p=null;if(!C){var d=l.dev.toString(32)+":"+l.ino.toString(32);i.hasOwnProperty(d)&&(p=i[d])}p===null&&(q.statSync(o),p=q.readlinkSync(o)),h=x.resolve(u,p),r&&(r[o]=h),C||(i[d]=p)}e=x.resolve(h,e.slice(s)),f()}}return r&&(r[n]=e),e};_t.realpath=function(e,r,n){if(typeof n!="function"&&(n=yr(r),r=null),e=x.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,a={},s={},c,o,u,f;v();function v(){var m=z.exec(e);c=m[0].length,o=m[0],u=m[0],f="",C&&!s[u]?q.lstat(u,function(y){if(y)return n(y);s[u]=!0,h()}):process.nextTick(h)}function h(){if(c>=e.length)return r&&(r[i]=e),n(null,e);j.lastIndex=c;var m=j.exec(e);return f=o,o+=m[0],u=f+m[1],c=j.lastIndex,s[u]||r&&r[u]===u?process.nextTick(h):r&&Object.prototype.hasOwnProperty.call(r,u)?d(r[u]):q.lstat(u,l)}function l(m,y){if(m)return n(m);if(!y.isSymbolicLink())return s[u]=!0,r&&(r[u]=u),process.nextTick(h);if(!C){var b=y.dev.toString(32)+":"+y.ino.toString(32);if(a.hasOwnProperty(b))return p(null,a[b],u)}q.stat(u,function(O){if(O)return n(O);q.readlink(u,function(E,A){C||(a[b]=A),p(E,A)})})}function p(m,y,b){if(m)return n(m);var O=x.resolve(f,y);r&&(r[b]=O),d(O)}function d(m){e=x.resolve(m,e.slice(c)),v()}}});var At=k((Pn,ue)=>{ue.exports=L;L.realpath=L;L.sync=Ot;L.realpathSync=Ot;L.monkeypatch=br;L.unmonkeypatch=wr;var F=require("fs"),kt=F.realpath,St=F.realpathSync,Er=process.version,he=/^v[0-5]\./.test(Er),le=ce();function fe(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function L(t,e,r){if(he)return kt(t,e,r);typeof e=="function"&&(r=e,e=null),kt(t,e,function(n,i){fe(n)?le.realpath(t,e,r):r(n,i)})}function Ot(t,e){if(he)return St(t,e);try{return St(t,e)}catch(r){if(fe(r))return le.realpathSync(t,e);throw r}}function br(){F.realpath=L,F.realpathSync=Ot}function wr(){F.realpath=kt,F.realpathSync=St}});var ve=k((xn,pe)=>{pe.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);_r(i)?r.push.apply(r,i):r.push(i)}return r};var _r=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var be=k((Nn,de)=>{"use strict";de.exports=me;function me(t,e,r){t instanceof RegExp&&(t=ge(t,r)),e instanceof RegExp&&(e=ge(e,r));var n=ye(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function ge(t,e){var r=e.match(t);return r?r[0]:null}me.range=ye;function ye(t,e,r){var n,i,a,s,c,o=r.indexOf(t),u=r.indexOf(e,o+1),f=o;if(o>=0&&u>0){for(n=[],a=r.length;f>=0&&!c;)f==o?(n.push(f),o=r.indexOf(t,f+1)):n.length==1?c=[n.pop(),u]:(i=n.pop(),i<a&&(a=i,s=u),u=r.indexOf(e,f+1)),f=o<u&&o>=0?o:u;n.length&&(c=[a,s])}return c}});var De=k((Rn,we)=>{var Or=ve(),Ee=be();we.exports=kr;var _e="\0SLASH"+Math.random()+"\0",Oe="\0OPEN"+Math.random()+"\0",Dt="\0CLOSE"+Math.random()+"\0",ke="\0COMMA"+Math.random()+"\0",Se="\0PERIOD"+Math.random()+"\0";function Tt(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Sr(t){return t.split("\\\\").join(_e).split("\\{").join(Oe).split("\\}").join(Dt).split("\\,").join(ke).split("\\.").join(Se)}function Ar(t){return t.split(_e).join("\\").split(Oe).join("{").split(Dt).join("}").split(ke).join(",").split(Se).join(".")}function Ae(t){if(!t)return[""];var e=[],r=Ee("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,a=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var c=Ae(a);return a.length&&(s[s.length-1]+=c.shift(),s.push.apply(s,c)),e.push.apply(e,s),e}function kr(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),U(Sr(t),!0).map(Ar)):[]}function Dr(t){return"{"+t+"}"}function Tr(t){return/^-?0\d/.test(t)}function jr(t,e){return t<=e}function $r(t,e){return t>=e}function U(t,e){var r=[],n=Ee("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||a,c=n.body.indexOf(",")>=0;if(!s&&!c)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+Dt+n.post,U(t)):[t];var o;if(s)o=n.body.split(/\.\./);else if(o=Ae(n.body),o.length===1&&(o=U(o[0],!1).map(Dr),o.length===1)){var f=n.post.length?U(n.post,!1):[""];return f.map(function(ut){return n.pre+o[0]+ut})}var u=n.pre,f=n.post.length?U(n.post,!1):[""],v;if(s){var h=Tt(o[0]),l=Tt(o[1]),p=Math.max(o[0].length,o[1].length),d=o.length==3?Math.abs(Tt(o[2])):1,m=jr,y=l<h;y&&(d*=-1,m=$r);var b=o.some(Tr);v=[];for(var O=h;m(O,l);O+=d){var E;if(a)E=String.fromCharCode(O),E==="\\"&&(E="");else if(E=String(O),b){var A=p-E.length;if(A>0){var X=new Array(A+1).join("0");O<0?E="-"+X+E.slice(1):E=X+E}}v.push(E)}}else v=Or(o,function(tt){return U(tt,!1)});for(var B=0;B<v.length;B++)for(var P=0;P<f.length;P++){var T=u+v[B]+f[P];(!e||s||T)&&r.push(T)}return r}});var rt=k((Bn,Te)=>{Te.exports=S;S.Minimatch=_;var Q={sep:"/"};try{Q=require("path")}catch(t){}var jt=S.GLOBSTAR=_.GLOBSTAR={},Mr=De(),je={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},$t="[^/]",Mt=$t+"*?",Ir="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Cr="(?:(?!(?:\\/|^)\\.).)*?",$e=qr("().*{}+?[]^$\\!");function qr(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var Me=/\/+/;S.filter=Lr;function Lr(t,e){return e=e||{},function(r,n,i){return S(r,t,e)}}function Ie(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}S.defaults=function(t){if(!t||!Object.keys(t).length)return S;var e=S,r=function(i,a,s){return e.minimatch(i,a,Ie(t,s))};return r.Minimatch=function(i,a){return new e.Minimatch(i,Ie(t,a))},r};_.defaults=function(t){return!t||!Object.keys(t).length?_:S.defaults(t).Minimatch};function S(t,e,r){if(typeof e!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?t==="":new _(e,r).match(t)}function _(t,e){if(!(this instanceof _))return new _(t,e);if(typeof t!="string")throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),Q.sep!=="/"&&(t=t.split(Q.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}_.prototype.debug=function(){};_.prototype.make=Pr;function Pr(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Me)}),this.debug(this.pattern,r),r=r.map(function(n,i,a){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}_.prototype.parseNegate=xr;function xr(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,a=t.length;i<a&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}S.braceExpand=function(t,e){return Ce(t,e)};_.prototype.braceExpand=Ce;function Ce(t,e){if(e||(this instanceof _?e=this.options:e={}),t=typeof t=="undefined"?this.pattern:t,typeof t=="undefined")throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Mr(t)}_.prototype.parse=Nr;var et={};function Nr(t,e){if(t.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&t==="**")return jt;if(t==="")return"";var n="",i=!!r.nocase,a=!1,s=[],c=[],o,u=!1,f=-1,v=-1,h=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",l=this;function p(){if(o){switch(o){case"*":n+=Mt,i=!0;break;case"?":n+=$t,i=!0;break;default:n+="\\"+o;break}l.debug("clearStateChar %j %j",o,n),o=!1}}for(var d=0,m=t.length,y;d<m&&(y=t.charAt(d));d++){if(this.debug("%s	%s %s %j",t,d,n,y),a&&$e[y]){n+="\\"+y,a=!1;continue}switch(y){case"/":return!1;case"\\":p(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,d,n,y),u){this.debug("  in class"),y==="!"&&d===v+1&&(y="^"),n+=y;continue}l.debug("call clearStateChar %j",o),p(),o=y,r.noext&&p();continue;case"(":if(u){n+="(";continue}if(!o){n+="\\(";continue}s.push({type:o,start:d-1,reStart:n.length,open:je[o].open,close:je[o].close}),n+=o==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",o,n),o=!1;continue;case")":if(u||!s.length){n+="\\)";continue}p(),i=!0;var b=s.pop();n+=b.close,b.type==="!"&&c.push(b),b.reEnd=n.length;continue;case"|":if(u||!s.length||a){n+="\\|",a=!1;continue}p(),n+="|";continue;case"[":if(p(),u){n+="\\"+y;continue}u=!0,v=d,f=n.length,n+=y;continue;case"]":if(d===v+1||!u){n+="\\"+y,a=!1;continue}if(u){var O=t.substring(v+1,d);try{RegExp("["+O+"]")}catch(Kt){var E=this.parse(O,et);n=n.substr(0,f)+"\\["+E[0]+"\\]",i=i||E[1],u=!1;continue}}i=!0,u=!1,n+=y;continue;default:p(),a?a=!1:$e[y]&&!(y==="^"&&u)&&(n+="\\"),n+=y}}for(u&&(O=t.substr(v+1),E=this.parse(O,et),n=n.substr(0,f)+"\\["+E[0],i=i||E[1]),b=s.pop();b;b=s.pop()){var A=n.slice(b.reStart+b.open.length);this.debug("setting tail",n,b),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Kt,Vt,ft){return ft||(ft="\\"),Vt+Vt+ft+"|"}),this.debug(`tail=%j
   %s`,A,A,b,n);var X=b.type==="*"?Mt:b.type==="?"?$t:"\\"+b.type;i=!0,n=n.slice(0,b.reStart)+X+"\\("+A}p(),a&&(n+="\\\\");var B=!1;switch(n.charAt(0)){case".":case"[":case"(":B=!0}for(var P=c.length-1;P>-1;P--){var T=c[P],tt=n.slice(0,T.reStart),ut=n.slice(T.reStart,T.reEnd-8),Yt=n.slice(T.reEnd-8,T.reEnd),W=n.slice(T.reEnd);Yt+=W;var nr=tt.split("(").length-1,ht=W;for(d=0;d<nr;d++)ht=ht.replace(/\)[+*?]?/,"");W=ht;var Zt="";W===""&&e!==et&&(Zt="$");var ir=tt+ut+W+Zt+Yt;n=ir}if(n!==""&&i&&(n="(?=.)"+n),B&&(n=h+n),e===et)return[n,i];if(!i)return Rr(t);var ar=r.nocase?"i":"";try{var lt=new RegExp("^"+n+"$",ar)}catch(Kt){return new RegExp("$.")}return lt._glob=t,lt._src=n,lt}S.makeRe=function(t,e){return new _(t,e||{}).makeRe()};_.prototype.makeRe=Br;function Br(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?Mt:e.dot?Ir:Cr,n=e.nocase?"i":"",i=t.map(function(a){return a.map(function(s){return s===jt?r:typeof s=="string"?Gr(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(a){this.regexp=!1}return this.regexp}S.match=function(t,e,r){r=r||{};var n=new _(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};_.prototype.match=Fr;function Fr(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var r=this.options;Q.sep!=="/"&&(t=t.split(Q.sep).join("/")),t=t.split(Me),this.debug(this.pattern,"split",t);var n=this.set;this.debug(this.pattern,"set",n);var i,a;for(a=t.length-1;a>=0&&(i=t[a],!i);a--);for(a=0;a<n.length;a++){var s=n[a],c=t;r.matchBase&&s.length===1&&(c=[i]);var o=this.matchOne(c,s,e);if(o)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}_.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,a=0,s=t.length,c=e.length;i<s&&a<c;i++,a++){this.debug("matchOne loop");var o=e[a],u=t[i];if(this.debug(e,o,u),o===!1)return!1;if(o===jt){this.debug("GLOBSTAR",[e,o,u]);var f=i,v=a+1;if(v===c){for(this.debug("** at the end");i<s;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;f<s;){var h=t[f];if(this.debug(`
globstar while`,t,f,e,v,h),this.matchOne(t.slice(f),e.slice(v),r))return this.debug("globstar found match!",f,s,h),!0;if(h==="."||h===".."||!n.dot&&h.charAt(0)==="."){this.debug("dot detected!",t,f,e,v);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,f,e,v),f===s))}var l;if(typeof o=="string"?(n.nocase?l=u.toLowerCase()===o.toLowerCase():l=u===o,this.debug("string match",o,u,l)):(l=u.match(o),this.debug("pattern match",o,u,l)),!l)return!1}if(i===s&&a===c)return!0;if(i===s)return r;if(a===c){var p=i===s-1&&t[i]==="";return p}throw new Error("wtf?")};function Rr(t){return t.replace(/\\(.)/g,"$1")}function Gr(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var qe=k((Gn,It)=>{typeof Object.create=="function"?It.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:It.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var Le=k((Fn,Ct)=>{try{if(qt=require("util"),typeof qt.inherits!="function")throw"";Ct.exports=qt.inherits}catch(t){Ct.exports=qe()}var qt});var it=k((Un,nt)=>{"use strict";function Pe(t){return t.charAt(0)==="/"}function xe(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}nt.exports=process.platform==="win32"?xe:Pe;nt.exports.posix=Pe;nt.exports.win32=xe});var Pt=k(D=>{D.alphasort=Ne;D.alphasorti=Re;D.setopts=Ur;D.ownProp=Be;D.makeAbs=Y;D.finish=Hr;D.mark=Wr;D.isIgnored=Ge;D.childrenIgnored=zr;function Be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var H=require("path"),Qr=rt(),Fe=it(),Lt=Qr.Minimatch;function Re(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function Ne(t,e){return t.localeCompare(e)}function Zr(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Yr))}function Yr(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new Lt(r,{dot:!0})}return{matcher:new Lt(t,{dot:!0}),gmatcher:e}}function Ur(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.maxLength=r.maxLength||Infinity,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),Zr(t,r),t.changedCwd=!1;var n=process.cwd();Be(r,"cwd")?(t.cwd=H.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||H.resolve(t.cwd,"/"),t.root=H.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=Fe(t.cwd)?t.cwd:Y(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new Lt(e,r),t.options=t.minimatch.options}function Hr(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var a=t.matches[n];if(!a||Object.keys(a).length===0){if(t.nonull){var s=t.minimatch.globSet[n];e?r.push(s):r[s]=!0}}else{var c=Object.keys(a);e?r.push.apply(r,c):c.forEach(function(o){r[o]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(t.nocase?Re:Ne)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(o){var u=!/\/$/.test(o),f=t.cache[o]||t.cache[Y(t,o)];return u&&f&&(u=f!=="DIR"&&!Array.isArray(f)),u}))}t.ignore.length&&(r=r.filter(function(o){return!Ge(t,o)})),t.found=r}function Wr(t,e){var r=Y(t,e),n=t.cache[r],i=e;if(n){var a=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(a&&!s?i+="/":!a&&s&&(i=i.slice(0,-1)),i!==e){var c=Y(t,i);t.statCache[c]=t.statCache[r],t.cache[c]=t.cache[r]}}return i}function Y(t,e){var r=e;return e.charAt(0)==="/"?r=H.join(t.root,e):Fe(e)||e===""?r=e:t.changedCwd?r=H.resolve(t.cwd,e):r=H.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Ge(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function zr(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var Qe=k((Kn,Ue)=>{Ue.exports=He;He.GlobSync=w;var at=require("fs"),Kr=At(),We=rt(),Wn=We.Minimatch,zn=xt().Glob,Qn=require("util"),Nt=require("path"),ze=require("assert"),st=it(),$=Pt(),Yn=$.alphasort,Zn=$.alphasorti,Vr=$.setopts,Rt=$.ownProp,Jr=$.childrenIgnored,Xr=$.isIgnored;function He(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new w(t,e).found}function w(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof w))return new w(t,e);if(Vr(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}w.prototype._finish=function(){if(ze(this instanceof w),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var a=Kr.realpathSync(i,t.realpathCache);n[a]=!0}catch(s){if(s.syscall==="stat")n[t._makeAbs(i)]=!0;else throw s}})}$.finish(this)};w.prototype._process=function(t,e,r){ze(this instanceof w);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var a=t.slice(n),s;i===null?s=".":((st(i)||st(t.join("/")))&&(!i||!st(i))&&(i="/"+i),s=i);var c=this._makeAbs(s);if(!Jr(this,s)){var o=a[0]===We.GLOBSTAR;o?this._processGlobStar(i,s,c,a,e,r):this._processReaddir(i,s,c,a,e,r)}};w.prototype._processReaddir=function(t,e,r,n,i,a){var s=this._readdir(r,a);if(!!s){for(var c=n[0],o=!!this.minimatch.negate,u=c._glob,f=this.dot||u.charAt(0)===".",v=[],h=0;h<s.length;h++){var l=s[h];if(l.charAt(0)!=="."||f){var p;o&&!t?p=!l.match(c):p=l.match(c),p&&v.push(l)}}var d=v.length;if(d!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<d;h++){var l=v[h];t&&(t.slice(-1)!=="/"?l=t+"/"+l:l=t+l),l.charAt(0)==="/"&&!this.nomount&&(l=Nt.join(this.root,l)),this._emitMatch(i,l)}return}n.shift();for(var h=0;h<d;h++){var l=v[h],m;t?m=[t,l]:m=[l],this._process(m.concat(n),i,a)}}}};w.prototype._emitMatch=function(t,e){if(!Xr(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};w.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=at.lstatSync(t)}catch(a){if(a.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};w.prototype._readdir=function(t,e){var r;if(e&&!Rt(this.symlinks,t))return this._readdirInGlobStar(t);if(Rt(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,at.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};w.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};w.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};w.prototype._processGlobStar=function(t,e,r,n,i,a){var s=this._readdir(r,a);if(!!s){var c=n.slice(1),o=t?[t]:[],u=o.concat(c);this._process(u,i,!1);var f=s.length,v=this.symlinks[r];if(!(v&&a))for(var h=0;h<f;h++){var l=s[h];if(!(l.charAt(0)==="."&&!this.dot)){var p=o.concat(s[h],c);this._process(p,i,!0);var d=o.concat(s[h],n);this._process(d,i,!0)}}}};w.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&st(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Nt.join(this.root,t):(t=Nt.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};w.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&Rt(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var a;try{a=at.lstatSync(e)}catch(c){if(c&&(c.code==="ENOENT"||c.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(a&&a.isSymbolicLink())try{i=at.statSync(e)}catch(c){i=a}else i=a}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,r&&s==="FILE"?!1:s};w.prototype._mark=function(t){return $.mark(this,t)};w.prototype._makeAbs=function(t){return $.makeAbs(this,t)}});var Bt=k((Vn,Ye)=>{Ye.exports=Ze;function Ze(t,e){if(t&&e)return Ze(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var a=t.apply(this,n),s=n[n.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach(function(c){a[c]=s[c]}),a}}});var Ft=k((Jn,Gt)=>{var Ke=Bt();Gt.exports=Ke(ot);Gt.exports.strict=Ke(Ve);ot.proto=ot(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return ot(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Ve(this)},configurable:!0})});function ot(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Ve(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Xe=k((Xn,Je)=>{var tn=Bt(),Z=Object.create(null),en=Ft();Je.exports=tn(rn);function rn(t,e){return Z[t]?(Z[t].push(e),null):(Z[t]=[e],nn(t))}function nn(t){return en(function e(){var r=Z[t],n=r.length,i=an(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete Z[t]}})}function an(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var xt=k((ii,tr)=>{tr.exports=N;var ct=require("fs"),sn=At(),er=rt(),ti=er.Minimatch,on=Le(),cn=require("events").EventEmitter,Ut=require("path"),Ht=require("assert"),K=it(),Wt=Qe(),M=Pt(),ei=M.alphasort,ri=M.alphasorti,un=M.setopts,zt=M.ownProp,Qt=Xe(),ni=require("util"),hn=M.childrenIgnored,ln=M.isIgnored,fn=Ft();function N(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return Wt(t,e)}return new g(t,e,r)}N.sync=Wt;var pn=N.GlobSync=Wt.GlobSync;N.glob=N;function vn(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}N.hasMagic=function(t,e){var r=vn({},e);r.noprocess=!0;var n=new g(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var a=0;a<i[0].length;a++)if(typeof i[0][a]!="string")return!0;return!1};N.Glob=g;on(g,cn);function g(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new pn(t,e)}if(!(this instanceof g))return new g(t,e,r);un(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=fn(r),this.on("error",r),this.on("end",function(o){r(null,o)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return c();for(var a=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,c);a=!1;function c(){--i._processing,i._processing<=0&&(a?process.nextTick(function(){i._finish()}):i._finish())}}g.prototype._finish=function(){if(Ht(this instanceof g),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();M.finish(this),this.emit("end",this.found)}};g.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t==0&&e._finish()}};g.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,a=n.length;if(a===0)return e();var s=this.matches[t]=Object.create(null);n.forEach(function(c,o){c=i._makeAbs(c),sn.realpath(c,i.realpathCache,function(u,f){u?u.syscall==="stat"?s[c]=!0:i.emit("error",u):s[f]=!0,--a==0&&(i.matches[t]=s,e())})})};g.prototype._mark=function(t){return M.mark(this,t)};g.prototype._makeAbs=function(t){return M.makeAbs(this,t)};g.prototype.abort=function(){this.aborted=!0,this.emit("abort")};g.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};g.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};g.prototype._process=function(t,e,r,n){if(Ht(this instanceof g),Ht(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var a;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:a=null;break;default:a=t.slice(0,i).join("/");break}var s=t.slice(i),c;a===null?c=".":((K(a)||K(t.join("/")))&&(!a||!K(a))&&(a="/"+a),c=a);var o=this._makeAbs(c);if(hn(this,c))return n();var u=s[0]===er.GLOBSTAR;u?this._processGlobStar(a,c,o,s,e,r,n):this._processReaddir(a,c,o,s,e,r,n)}};g.prototype._processReaddir=function(t,e,r,n,i,a,s){var c=this;this._readdir(r,a,function(o,u){return c._processReaddir2(t,e,r,n,i,a,u,s)})};g.prototype._processReaddir2=function(t,e,r,n,i,a,s,c){if(!s)return c();for(var o=n[0],u=!!this.minimatch.negate,f=o._glob,v=this.dot||f.charAt(0)===".",h=[],l=0;l<s.length;l++){var p=s[l];if(p.charAt(0)!=="."||v){var d;u&&!t?d=!p.match(o):d=p.match(o),d&&h.push(p)}}var m=h.length;if(m===0)return c();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var l=0;l<m;l++){var p=h[l];t&&(t!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=Ut.join(this.root,p)),this._emitMatch(i,p)}return c()}n.shift();for(var l=0;l<m;l++){var p=h[l],y;t&&(t!=="/"?p=t+"/"+p:p=t+p),this._process([p].concat(n),i,a,c)}c()};g.prototype._emitMatch=function(t,e){if(!this.aborted&&!ln(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=K(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};g.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=Qt(r,a);i&&ct.lstat(t,i);function a(s,c){if(s&&s.code==="ENOENT")return e();var o=c&&c.isSymbolicLink();n.symlinks[t]=o,!o&&c&&!c.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};g.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=Qt("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!zt(this.symlinks,t))return this._readdirInGlobStar(t,r);if(zt(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;ct.readdir(t,dn(this,t,r))}};function dn(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}g.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};g.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};g.prototype._processGlobStar=function(t,e,r,n,i,a,s){var c=this;this._readdir(r,a,function(o,u){c._processGlobStar2(t,e,r,n,i,a,u,s)})};g.prototype._processGlobStar2=function(t,e,r,n,i,a,s,c){if(!s)return c();var o=n.slice(1),u=t?[t]:[],f=u.concat(o);this._process(f,i,!1,c);var v=this.symlinks[r],h=s.length;if(v&&a)return c();for(var l=0;l<h;l++){var p=s[l];if(!(p.charAt(0)==="."&&!this.dot)){var d=u.concat(s[l],o);this._process(d,i,!0,c);var m=u.concat(s[l],n);this._process(m,i,!0,c)}}c()};g.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,a){n._processSimple2(t,e,i,a,r)})};g.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&K(t)&&!this.nomount){var a=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Ut.join(this.root,t):(t=Ut.resolve(this.root,t),a&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};g.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&zt(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var a,s=this.statCache[r];if(s!==void 0){if(s===!1)return e(null,s);var c=s.isDirectory()?"DIR":"FILE";return n&&c==="FILE"?e():e(null,c,s)}var o=this,u=Qt("stat\0"+r,f);u&&ct.lstat(r,u);function f(v,h){if(h&&h.isSymbolicLink())return ct.stat(r,function(l,p){l?o._stat2(t,r,null,h,e):o._stat2(t,r,l,p,e)});o._stat2(t,r,v,h,e)}};g.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var a=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,a&&s==="FILE"?i():i(null,s,n)}});var vt=class{constructor(){this.isDebug=!0}toggleDebug(){this.isDebug=!this.isDebug}async log(e){try{this.isDebug&&await global.$common.fetch("http://wqao.top/yjy-log/create","POST",{message:e})}catch(r){console.log(r)}}},Jt=vt;var dt=pr(require("axios")),Xt;(function(t){t.GET="GET",t.POST="POST"})(Xt||(Xt={}));var te=class{constructor(e,r){this.BASE_URL=e;this.COMPLETE=r;this.DEFAULT_HEADER={};this.BASE_URL=e,this.COMPLETE=r}async request(e,r,n,i){try{let a=await dt.default({method:e,url:this.BASE_URL+(r||""),data:n,headers:i||this.DEFAULT_HEADER||{}});return await this.COMPLETE(a.data)}catch(a){throw a}}},mt=class{constructor(){}getRequester(e,r){return new te(e,r)}async fetch(e,r,n,i){return(await dt.default({method:r,url:e,data:n,headers:i})).data}},ee=mt;var gt=class{constructor(){}getTimeDTO(){return{year:"",month:"",day:"",hour:"",min:"",sec:"",full:"",week:""}}getYYMMDD(e=Date.now()){let r="";return new Date(e).toLocaleDateString().split("/").forEach(n=>r+=Number(n)<10?`/0${n}`:`/${n}`),r.replace("/","")}getYY(e=Date.now()){return new Date(e).getFullYear().toString()}getMM(e=Date.now()){let r=new Date(e).getMonth()+1;return(r<10?`0${r}`:r).toString()}getDD(e=Date.now()){let r=new Date(e).getDate();return(r<10?`0${r}`:r).toString()}getHHMMSS(e=Date.now()){let r=null,n=new Date(e);return r=this.getTimeDTO(),r.hour=n.getHours()<10?`0${n.getHours()}`:n.getHours().toString(),r.min=n.getMinutes()<10?`0${n.getMinutes()}`:n.getMinutes().toString(),r.sec=n.getSeconds()<10?`0${n.getSeconds()}`:n.getSeconds().toString(),r.full=`${r.hour}:${r.min}:${r.sec}`,r}getFullTime(e=Date.now()){let r=this.getHHMMSS(e);return r.year=new Date(e).getFullYear().toString(),r.full=`${this.getYYMMDD(e)} ${r.full}`,r}getTimeGap(e=Date.now()+864e5){let r=null,n=e-Date.now();if(n>0){r=this.getTimeDTO();let i=~~(n/1e3/60/60)%24;r.hour=i<10?`0${i}`:i.toString();let a=~~(n/1e3/60)%60;r.min=a<10?`0${a}`:a.toString();let s=~~(n/1e3)%60;r.sec=s<10?`0${s}`:s.toString(),r.full=`${r.hour}:${r.min}:${r.sec}`}return r}getChineseWeek(e=Date.now()){let r="";switch(new Date(e).getDay()){case 1:r="\u5468\u4E00";break;case 2:r="\u5468\u4E8C";break;case 3:r="\u5468\u4E09";break;case 4:r="\u5468\u56DB";break;case 5:r="\u5468\u4E94";break;case 6:r="\u5468\u516D";break;case 0:r="\u5468\u65E5";break}return r}},re=gt;var yt=class{constructor(){}isValidMobile(e){return/^[1][0-9]{10}$/.test(e)}isValidEmail(e){return/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]+$/.test(e)}},ne=yt;var bt=class{constructor(){}getLatLngDistance(e,r,n,i){let a=e*Math.PI/180,s=n*Math.PI/180,c=a-s,o=r*Math.PI/180-i*Math.PI/180,u=2*Math.asin(Math.sqrt(Math.pow(Math.sin(c/2),2)+Math.cos(a)*Math.cos(s)*Math.pow(Math.sin(o/2),2)));return u=u*6378.137,u=Math.round(u*1e4)/1e4,u.toFixed(2)}wannaObject(e,r){return e}},ie=bt;var wt=class{constructor(){this.BinderMap=new Map;this.bindClass(this,"Log",Jt),this.bindClass(this,"Requester",ee),this.bindClass(this,"UtilsTime",re),this.bindClass(this,"UtilsVaild",ne),this.bindClass(this,"UtilsCalculation",ie)}bindClass(e,r,n){n instanceof Function&&(e.BinderMap.set(r,new n),Object.getOwnPropertyNames(n.prototype).forEach(i=>{i!=="constructor"&&(e[i]=(...a)=>{let s=e.BinderMap.get(r);return s[i].apply(s,a)})}))}};var Et=class{constructor(){this.IPv4=null;this.IPv4=this.getIPv4()}AlfredLogin(){let e=this.IPv4;return(r,n,i)=>{let a=i.value;i.value=async function(...s){let c=s[0],o=s[1];try{let u=await global.$common.fetch(`http://${e}:80/alfred/user/info`,"POST",null,{authorization:c.header("authorization")});if(u.code!==200)throw new Error(`${u.message}(code:${u.code})`);s.push(u.data),await a.apply(this,s)}catch(u){o.send({code:null,data:null,message:`\u767B\u5F55\u4FE1\u606F\u5F02\u5E38: ${u.message}`})}}}}Response(e=""){return(r,n,i)=>{let a=i.value;i.value=async function(...s){let c={code:null,data:null,message:""};try{let o=await a.apply(this,s);c.code=200,c.data=o||e}catch(o){c.message=o.message||o}finally{s[1].send(c)}}}}WsAlfredLogin(){let e=this.IPv4;return(r,n,i)=>{let a=i.value;i.value=async function(...s){let c=s[0];try{let o=await global.$common.fetch(`http://${e}:80/alfred/user/info`,"POST",null,{authorization:c.DTO.authorization});if(o.code!==200)throw new Error(`${o.message}`);if(o.data._id!=="603e28cd6b57e016b0bbb9b5")throw new Error("\u60A8\u4E0D\u662F\u7BA1\u7406\u5458");await a.apply(this,s)}catch(o){c.orderName="/request/authorization",c.DTO=o.message||o||"\u60A8\u7684\u6743\u9650\u4E0D\u8DB3",global.Cabin.websocketAnswer(c)}}}}WsResponse(e="",r=!1){return(n,i,a)=>{let s=a.value;a.value=async function(...c){let o=c[0];try{let u=await s.apply(this,c);o.DTO=u||e||null}catch(u){o.orderName="/request/fail",o.DTO=u.message||u}finally{r?global.Cabin.websocketBoardCast(o):global.Cabin.websocketAnswer(o)}}}}ElectronResponse(e=""){return(r,n,i)=>{let a=i.value;i.value=async function(...s){let c={code:null,data:null,message:""};try{let o=await a.apply(this,s);c.code=200,c.data=o||e}catch(o){c.message=o.message||o}finally{return c}}}}getIPv4(){let e=null;if(global.process.platform==="win32"){let r=require("os").networkInterfaces();for(let n in r)if(n==="\u4EE5\u592A\u7F51"||n==="WLAN"){for(let i in r[n]){let a=r[n][i];if(a.family==="IPv4"){e=a.address;break}}break}}return e}printRed(e){console.log(`[41m[30m${e}[0m`)}printYellow(e){console.log(`[43m[30m${e}[0m`)}printBlue(e){console.log(`[44m[37m${e}[0m`)}printGreen(e){console.log(`[42m[30m${e}[0m`)}printLink(e){console.log(`[34m${e}[0m`)}printText(e){console.log(`[33m${e}[0m`)}},ae=Et;var se=class extends wt{constructor(){super();this.bindClass(this,"UtilsReactNode",ae)}};global.$common=new se;var I;(function(t){t.WHITE="white",t.GREEN="green",t.YELLOW="yellow",t.RED="red"})(I||(I={}));function oe(t,e){if(t=t.replace(/\n/g," "),dr(t)){let c=global.$common.getFullTime().full;e({pid:null,text:`@Node(${process.pid}) Danger Cmd: ${t}`,html:G(I.RED,`@Node(${process.pid}) Danger Cmd: ${t}`,c)});return}let r=require("child_process").exec(t,{maxBuffer:1024*1024*1024},(c,o,u)=>{let f=`@Node(${process.pid}) Cmd(${r.pid})`,v=global.$common.getFullTime().full,h={pid:null,text:`${f} Task end`,html:G(I.GREEN,f,`${f} Task end`,v)};c?(h.text=`${f} Command error:${c.message}`,h.html=G(I.RED,f,h.text,v)):u&&(h.text=`${f} Task error:${u.message}`,h.html=G(I.RED,f,h.text,v)),e(h)}),n="latin1";r.stdout.setEncoding(n);let i="utf8",a=`@Node(${process.pid}) Cmd(${r.pid}) Task start\uFF1A${n}=>${i}`,s=require("iconv-lite");return e({pid:r.pid,text:a,html:G(I.GREEN,a)}),r.stdout.on("data",c=>{let o=s.decode(Buffer.from(`@Log(${r.pid}) ${c}`,n),i);e({pid:r.pid,text:o,html:G(I.WHITE,o)}),c.includes("Merge conflict")&&vr(r.pid)}),r.pid}function vr(t){require("tree-kill")(t)}function dr(t){t=t.trim().toUpperCase();let e=!1;return t.length===0&&(e=!0),t.indexOf("SSH")>=0&&(e=!0),e}function G(t,...e){let r="";return e.forEach(n=>r+=`<div style="color:${t}">${n}</div>`),r}var mn={web:!0,node:!0,electron:!0},V=process.argv[2];mn[V]||(global.$common.printText(`\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5E94\u7528\u7C7B\u578B npm run dev (${V}) (name) 
`),process.exit());var J=null,gn=xt().sync(`./src/${V}/apps/*/*.js`);gn.forEach(t=>t.split("/").reverse()[1]===process.argv[3]?J=process.argv[3]:"");J||(global.$common.printText(`\u627E\u4E0D\u5230\u5E94\u7528 npm run dev ${V} (${process.argv[3]}) 
`),process.exit());var rr=require("path"),R="";switch(V){case"web":{R+=`vue-cli-service serve ${rr.join(process.cwd(),`./src/web/apps/${J}/main.js`)}`;break}case"node":{let t=rr.join(process.cwd(),`./src/node/apps/${J}/main.js`);R+="node ./src/node/esbuild.config.js",R+=` && node ${t} ${process.argv[4]}`;break}case"electron":{R+="node ./src/electron/esbuild.config.js",R+=`&& electron ./src/electron/electron.js ${J}`;break}}R&&oe(R,t=>{t.text.indexOf("[HPM] Client disconnected")>-1||t.text.indexOf("[HPM] Upgrading to WebSocket")>-1||console.log(t.text)});
